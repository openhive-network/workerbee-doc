<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workerbee Documentation</title>
  <style>
    :root {
      --bg-color: #0d1117;
      --card-bg: #161b22;
      --text-color: #c9d1d9;
      --text-muted: #8b949e;
      --accent-color: #58a6ff;
      --border-color: #30363d;
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg-color: #ffffff;
        --card-bg: #f6f8fa;
        --text-color: #24292f;
        --text-muted: #57606a;
        --accent-color: #0969da;
        --border-color: #d0d7de;
      }
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      min-height: 100vh;
    }
    .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
    header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border-color);
    }
    h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    .subtitle { color: var(--text-muted); font-size: 1.1rem; }
    .version-list { display: flex; flex-direction: column; gap: 1rem; }
    .version-card {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 1.5rem;
      transition: border-color 0.2s;
    }
    .version-card:hover { border-color: var(--accent-color); }
    .version-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; }
    .version-name { font-size: 1.25rem; font-weight: 600; }
    .version-badge {
      font-size: 0.75rem;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      background: var(--accent-color);
      color: white;
    }
    .version-badge.latest { background: #238636; }
    .doc-links { display: flex; gap: 1rem; flex-wrap: wrap; }
    .doc-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.2s;
    }
    .doc-link:hover { opacity: 0.85; }
    .doc-link.manual { background: #2ea44f; color: white; }
    .doc-link.wiki { background: #6e40c9; color: white; }
    .doc-link svg { width: 18px; height: 18px; }
    footer {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid var(--border-color);
      text-align: center;
      color: var(--text-muted);
    }
    footer a { color: var(--accent-color); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
    .loading { text-align: center; padding: 2rem; color: var(--text-muted); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Workerbee Documentation</h1>
      <p class="subtitle">Hive blockchain bot framework for TypeScript</p>
    </header>
    <main>
      <div id="versions" class="version-list">
        <div class="loading">Loading versions...</div>
      </div>
    </main>
    <footer>
      <p>
        <a href="https://github.com/openhive-network/workerbee">GitHub</a> ·
        <a href="https://gitlab.syncad.com/hive/workerbee">GitLab</a> ·
        <a href="https://www.npmjs.com/package/@hiveio/workerbee">npm</a>
      </p>
    </footer>
  </div>
  <script>
    const bookIcon = `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/></svg>`;
    const wikiIcon = `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>`;
    fetch('versions.json')
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById('versions');
        if (!data.versions || data.versions.length === 0) {
          container.innerHTML = '<p class="loading">No documentation versions available yet.</p>';
          return;
        }
        container.innerHTML = data.versions.map((version, index) => {
          const isLatest = version === 'develop';
          const isNewestRelease = !isLatest && index === (data.versions[0] === 'develop' ? 1 : 0);
          let badge = '';
          if (isLatest) badge = '<span class="version-badge latest">latest</span>';
          else if (isNewestRelease) badge = '<span class="version-badge">stable</span>';
          return `
            <div class="version-card">
              <div class="version-header">
                <span class="version-name">${version}</span>
                ${badge}
              </div>
              <div class="doc-links">
                <a href="${version}/manual/" class="doc-link manual">${bookIcon} Manual</a>
                <a href="${version}/wiki/" class="doc-link wiki">${wikiIcon} Wiki</a>
              </div>
            </div>`;
        }).join('');
      })
      .catch(err => {
        document.getElementById('versions').innerHTML = '<p class="loading">Failed to load versions.</p>';
        console.error('Failed to load versions:', err);
      });
  </script>
</body>
</html>
